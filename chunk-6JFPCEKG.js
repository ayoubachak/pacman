import{a as s,d as n,j as a}from"./chunk-XOMAETA3.js";var o=class i{STORAGE_KEY="pacman-settings";defaultSettings={soundEnabled:!0,musicEnabled:!0,difficulty:"normal",controlType:"arrows"};settings=new n(this.loadSettings());constructor(){}get settings$(){return this.settings.asObservable()}updateSettings(t){let e=this.settings.value,r=s(s({},e),t);this.settings.next(r),this.saveSettings(r)}resetToDefaults(){this.settings.next(s({},this.defaultSettings)),this.saveSettings(this.defaultSettings)}loadSettings(){try{let t=localStorage.getItem(this.STORAGE_KEY);if(t)return JSON.parse(t)}catch(t){console.error("Error loading settings",t)}return s({},this.defaultSettings)}saveSettings(t){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(e){console.error("Error saving settings",e)}}static \u0275fac=function(e){return new(e||i)};static \u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})};export{o as a};
